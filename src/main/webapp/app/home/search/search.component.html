<div class="row justify-content-center">
  <div class="col-md-12 bg-white">
    <hr>
    <form name="editForm" role="form" novalidate [formGroup]="editForm">
      <div class="form-group" [hidden]="!editForm.get('id')!.value">
        <label for="id" jhiTranslate="global.field.id">ID</label>
        <input type="text" class="form-control" id="id" name="id" formControlName="id" readonly />
      </div>

      <div class="row justify-content-center">

        <div class="col-md-2">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1">
                <fa-icon icon="circle"></fa-icon>
              </span>
            </div>
            <select class="form-control" id="field_departVille" name="departVille" formControlName="departVille"
              aria-describedby="basic-addon1">
              <option value="null">Ville de départ</option>
              <option
                [ngValue]="villeOption.id === editForm.get('departVille')!.value?.id ? editForm.get('departVille')!.value : villeOption"
                *ngFor="let villeOption of villes">
                {{ villeOption.nom }}
              </option>
            </select>
          </div>
        </div>
        <fa-icon icon="exchange-alt" style="position: relative; top: 10px;"></fa-icon>
        <div class="col-md-2">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon2">
                <fa-icon icon="map-marker-alt"></fa-icon>
              </span>
            </div>
            <select class="form-control" id="field_arriveVille" name="arriveVille" formControlName="arriveVille"
              aria-describedby="basic-addon2">
              <option value="null">Ville d'arrivée</option>
              <option
                [ngValue]="villeOption.id === editForm.get('arriveVille')!.value?.id ? editForm.get('arriveVille')!.value : villeOption"
                *ngFor="let villeOption of villes">
                {{ villeOption.nom }}
              </option>
            </select>
          </div>
        </div>


        <div class="form-group col-md-3">
          <input id="field_dateDeVoyage" type="date" class="form-control" name="dateDeVoyage" min="{{ myDate }}"
            formControlName="dateDeVoyage" placeholder="YYYY/MM/DD" />
          <div
            *ngIf="editForm.get('dateDeVoyage')!.invalid && (editForm.get('dateDeVoyage')!.dirty || editForm.get('dateDeVoyage')!.touched)">
            <small class="form-text text-danger" *ngIf="editForm.get('dateDeVoyage')?.errors?.required"
              jhiTranslate="entity.validation.required">
              This field is required.
            </small>
            <small class="form-text text-danger" [hidden]="!editForm.get('dateDeVoyage')?.errors?.ZonedDateTimelocal"
              jhiTranslate="entity.validation.ZonedDateTimelocal">
              This field should be a date and time.
            </small>
          </div>
        </div>

        <div class="form-group col-md-2">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1">
                <fa-icon icon="users"></fa-icon>
              </span>
            </div>
            <input type="number" class="form-control" name="nbrePassagers" id="field_nbrePassagers"
              data-cy="nbrePassagers" formControlName="nbrePassagers" min=1 placeholder="1 passager" value=1 />
          </div>

          <div
            *ngIf="editForm.get('nbrePassagers')!.invalid && (editForm.get('nbrePassagers')!.dirty || editForm.get('nbrePassagers')!.touched)">
            <small class="form-text text-danger" *ngIf="editForm.get('nbrePassagers')?.errors?.required"
              jhiTranslate="entity.validation.required">
              This field is required.
            </small>
            <small class="form-text text-danger" [hidden]="!editForm.get('nbrePassagers')?.errors?.number"
              jhiTranslate="entity.validation.number">
              This field should be a number.
            </small>
          </div>
        </div>
        <div class="form-group col-md-2">
          <button type="submit" id="save-entity" class="btn btn-reserver" (click)="recherche()">
            <span>Rechercher</span>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>


<div class="row justify-content-center mt-4">
  <div class="col-md-3">
    <h6 class="text-heybus font-weight-bold">Départ de Dakar</h6>
  </div>

  <div class="col-md-9 col-xs-12">
    <h5 class="text-heybus font-weight-bold">Voyages</h5>
    <hr />
    <div *ngFor="let voyage of voyages; trackBy: trackId" class="shadow p-3 mb-5 bg-white rounded"
      style="max-width: 50rem">
      <div class=""><small>{{ voyage.transporteur?.nom }}</small>
        <fa-icon icon="star"></fa-icon><small> 4,5</small>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6 col-xs-4">
            <small>
              <fa-icon icon="circle" class="text-secondary fa-lg mr-2"></fa-icon>
            </small><span class="text-heybus"><strong>06:20</strong> {{ voyage.departVille?.nom }} <fa-icon
                icon="info-circle" class="text-danger"></fa-icon></span>
            <div class="line ml-2 col-xs-4 mr-1 text-center">
              <p class="mr-2">4h</p>
            </div>
            <small>
              <fa-icon icon="map-marker-alt" class="text-secondary fa-lg ml-1 mr-2"></fa-icon>
            </small><span class="text-heybus"><strong>06:20</strong> {{ voyage.arriveVille?.nom }} <fa-icon
                icon="info-circle" class="text-danger"></fa-icon></span>
          </div>
          <!-- <div class="col-md-6 col-xs-4">
            <h5 class="card-title text-heybus">{{ voyage.dateDeVoyage | formatMediumDatetime }}</h5>
          </div> -->
          <div class="col-md-6 col-xs-4 text-right">
            <h3 class="card-title">{{ voyage.prix }} CFA</h3><br>
            <div class="align-bottom float-right">
              <small *ngIf="voyage.wifi">
                <fa-icon icon="wifi" class="text-secondary" title="WIFI"></fa-icon>
              </small>
              <small *ngIf="voyage.toilette">
                <fa-icon icon="toilet" class="text-secondary" title="Cabine Toilette"></fa-icon>
              </small>
              <small *ngIf="voyage.climatisation">
                <fa-icon icon="fan" class="text-secondary" title="Climatiseur"></fa-icon>
              </small>
              <a name="" id="" class="btn btn-reserver align-bottom"
                [routerLink]="['/reservation/new/voyage', voyage.id, 'passagers', nbrePassagers]"
                role="button">Réserver</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="voyages && voyages.length === 0" class="alert alert-danger">
  <p>Aucun resultat</p>
</div>
<div *ngIf="voyages && voyages.length > 0">
  <div class="row justify-content-center">
    <jhi-item-count [params]="{ page: page, totalItems: totalItems, itemsPerPage: itemsPerPage }"></jhi-item-count>
  </div>

  <div class="row justify-content-center">
    <ngb-pagination [collectionSize]="totalItems" [(page)]="ngbPaginationPage" [pageSize]="itemsPerPage" [maxSize]="5"
      [rotate]="true" [boundaryLinks]="true" (pageChange)="loadPage($event)"></ngb-pagination>
  </div>
</div>


<!-- <div class="row justify-content-center">

  <div class="table-responsive" id="entities" *ngIf="voyages && voyages.length > 0">
    <table class="table table-striped" aria-describedby="page-heading">
      <thead>
        <tr>
          <th scope="col"><span jhiTranslate="global.field.id">ID</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.prix">Prix</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.dateDeVoyage">Date De Voyage</span></th>
         
          <th scope="col"><span jhiTranslate="heybusApp.voyage.departVille">Depart Ville</span></th>
          <th scope="col"><span>Adresse Depart</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.arriveVille">Arrive Ville</span></th>
          <th scope="col"><span>Adresse Arrive</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.transporteur">Transporteur</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.employe">Employe</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.arret">Arret</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.vehicule">Vehicule</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.climatisation">Climatisation</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.wifi">Wifi</span></th>
          <th scope="col"><span jhiTranslate="heybusApp.voyage.toilette">Toilette</span></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let voyage of voyages; trackBy: trackId" data-cy="entityTable">
          <td>
            <a [routerLink]="['/voyage', voyage.id, 'view']">{{ voyage.id }}</a>
          </td>
          <td>{{ voyage.prix }}</td>
          <td>{{ voyage.dateDeVoyage | formatMediumDatetime }}</td>
          <td>{{ voyage.nbrePlace }}</td>
            <td>{{ voyage.quartier }}</td>
            <td>{{ voyage.description }}</td>
          <td>
            <div *ngIf="voyage.departVille">
              <a [routerLink]="['/ville', voyage.departVille?.id, 'view']">{{ voyage.departVille?.nom }}</a>
            </div>
          </td>
          <td>{{ voyage.adresseDepart }}</td>
          <td>
            <div *ngIf="voyage.arriveVille">
              <a [routerLink]="['/ville', voyage.arriveVille?.id, 'view']">{{ voyage.arriveVille?.nom }}</a>
            </div>
          </td>
          <td>{{ voyage.adresseArrive }}</td>
          <td>
            <div *ngIf="voyage.transporteur">
              <a [routerLink]="['/transporteur', voyage.transporteur?.id, 'view']">{{ voyage.transporteur?.nom }}</a>
            </div>
          </td>
          <td>
            <span *ngFor="let employe of voyage.employes; let last = last">
              <a class="form-control-static" [routerLink]="['/employe', employe.id, 'view']">{{ employe.nom }}</a>{{
              last ? '' : ', ' }}
            </span>
          </td>
          <td>
            <span *ngFor="let arret of voyage.arrets; let last = last">
              <a class="form-control-static" [routerLink]="['/arret', arret.id, 'view']">{{ arret.id }}</a>{{ last ? ''
              : ', ' }}
            </span>
          </td>
          <td>
            <div *ngIf="voyage.vehicule">
              <a [routerLink]="['/vehicule', voyage.vehicule?.id, 'view']">{{ voyage.vehicule?.reference }}</a>
            </div>
          </td>
          <td>
            <span *ngIf="voyage.climatisation" class="badge badge-pill badge-success">Oui</span>
            <span *ngIf="!voyage.climatisation" class="badge badge-pill badge-warning">Non</span>
          </td>
          <td><span *ngIf="voyage.wifi" class="badge badge-pill badge-success">Oui</span>
            <span *ngIf="!voyage.wifi" class="badge badge-pill badge-warning">Non</span>
          </td>
          <td> <span *ngIf="voyage.toilette" class="badge badge-pill badge-success">Oui</span>
            <span *ngIf="!voyage.toilette" class="badge badge-pill badge-warning">Non</span>
          </td>
          <td class="text-right">
            <div class="btn-group">
              <button type="submit" [routerLink]="['/reservation/new/voyage', voyage.id, 'passagers', nbrePassagers]" class="btn btn-success btn-sm"
                data-cy="entityDetailsButton">
                <fa-icon icon="eye"></fa-icon>
                <span class="d-none d-md-inline">Reserver</span>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div *ngIf="voyages && voyages.length === 0">
    <p>Aucun resultat</p>
  </div>
  
</div> -->